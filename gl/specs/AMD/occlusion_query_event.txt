Name

    AMD_occlusion_query_event

Name Strings

    GL_AMD_occlusion_query_event

Contact

    Graham Sellers (graham.sellers 'at' amd.com)

Contributors

    Graham Sellers, AMD
    Daniel Rakos, AMD

Status

    SHIPPING

Version

    Last Modified Date:         11/20/2013
    Author Revision:            3

Number

    OpenGL Extension #442

Dependencies

    OpenGL 1.5 is required.

    This extension is written against the OpenGL 4.4 (core) specification.

    This extension depends on the definition of OpenGL 3.3 and
    GL_ARB_occlusion_query2.

    This extension depends on the definition of OpenGL 4.3 and
    GL_ARB_ES3_compatibility.

    This extension depends on the definition of GL_EXT_depth_bounds_test.

Overview

    Occlusion queries provide a means to count the number of fragments that
    pass the depth and stencil tests and that may contribute to a rendered
    image. In unextended OpenGL, an occlusion query increments its
    samples-passed count whenever a sample passes both the stencil test and
    the depth test (if enabled). However, there is no way to count fragments
    that fail the stencil test, or pass the stencil test and then subsequently
    fail the depth test.

    This extension introduces the concept of occlusion query events and changes
    the concept of an occlusion query from counting passed fragments to counting
    fragments that generate any of a user-selectable set of events. Provided
    events include passing the depth test, and passing or failing the stencil
    test. For a given occlusion query object, counting of these events may be
    enabled or disabled, allowing any combination to be counted.

New Procedures and Functions

        void QueryObjectParameteruiAMD(enum target,
                                       uint id,
                                       enum pname,
                                       uint param);

New Tokens


        OCCLUSION_QUERY_EVENT_MASK_AMD                      0x874F


        QUERY_DEPTH_PASS_EVENT_BIT_AMD                      0x00000001
        QUERY_DEPTH_FAIL_EVENT_BIT_AMD                      0x00000002
        QUERY_STENCIL_FAIL_EVENT_BIT_AMD                    0x00000004
        QUERY_DEPTH_BOUNDS_FAIL_EVENT_BIT_AMD               0x00000008
        QUERY_ALL_EVENT_BITS_AMD                            0xFFFFFFFF

