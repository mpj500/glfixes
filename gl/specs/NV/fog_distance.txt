Name
    
    NV_fog_distance

Name Strings

    GL_NV_fog_distance

Contact

    Mark J. Kilgard, NVIDIA Corporation (mjk 'at' nvidia.com)

Notice

    Copyright NVIDIA Corporation, 1999, 2000, 2001.

IP Status

    NVIDIA Proprietary.

Status

    Shipping (version 1.0)

Version

    NVIDIA Date:   January 18, 2001
    Version:       1.0

Number

    192

Dependencies

    Written based on the wording of the OpenGL 1.2 specification.

Overview

    Ideally, the fog distance (used to compute the fog factor as
    described in Section 3.10) should be computed as the per-fragment
    Euclidean distance to the fragment center from the eye.  In practice,
    implementations "may choose to approximate the eye-coordinate
    distance from the eye to each fragment center by abs(ze).  Further,
    [the fog factor] f need not be computed at each fragment, but may
    be computed at each vertex and interpolated as other data are."

    This extension provides the application specific control over how
    OpenGL computes the distance used in computing the fog factor.

    The extension supports three fog distance modes: "eye plane absolute",
    where the fog distance is the absolute planar distance from the eye
    plane (i.e., OpenGL's standard implementation allowance as cited above);
    "eye plane", where the fog distance is the signed planar distance
    from the eye plane; and "eye radial", where the fog distance is
    computed as a Euclidean distance.  In the case of the eye radial
    fog distance mode, the distance may be computed per-vertex and then
    interpolated per-fragment.

    The intent of this extension is to provide applications with better
    control over the tradeoff between performance and fog quality.
    The "eye planar" modes (signed or absolute) are straightforward
    to implement with good performance, but scenes are consistently
    under-fogged at the edges of the field of view.  The "eye radial"
    mode can provide for more accurate fog at the edges of the field of
    view, but this assumes that either the eye radial fog distance is
    computed per-fragment, or if the fog distance is computed per-vertex
    and then interpolated per-fragment, then the scene must be
    sufficiently tessellated.

Issues

    What should the default state be?

      IMPLEMENTATION DEPENDENT.

      The EYE_PLANE_ABSOLUTE_NV mode is the most consistent with the way
      most current OpenGL implementations are implemented without this
      extension, but because this extension provides specific control
      over a capability that core OpenGL is intentionally lax about,
      the default fog distance mode is left implementation dependent.
      We would not want a future OpenGL implementation that supports
      fast EYE_RADIAL_NV fog distance to be stuck using something less.

      Advice:  If an implementation can provide fast per-pixel EYE_RADIAL_NV
      support, then EYE_RADIAL_NV is the ideal default, but if not, then
      EYE_PLANE_ABSOLUTE_NV is the most reasonable default mode.

    How does this extension interact with the EXT_fog_coord extension?

      If FOG_COORDINATE_SOURCE_EXT is set to FOG_COORDINATE_EXT,
      then the fog distance mode is ignored.  However, the fog
      distance mode is used when the FOG_COORDINATE_SOURCE_EXT is
      set to FRAGMENT_DEPTH_EXT.  Essentially, when the EXT_fog_coord
      functionality is enabled, the fog distance is supplied by the
      user-supplied fog-coordinate so no automatic fog distance computation
      is performed.

New Procedures and Functions

    None

New Tokens


        FOG_DISTANCE_MODE_NV               0x855A


        EYE_RADIAL_NV                      0x855B
        EYE_PLANE_ABSOLUTE_NV              0x855C

