Name

    NV_shader_thread_group

Name Strings

    GL_NV_shader_thread_group

Contributors

    Jeannot Breton, NVIDIA
    Pat Brown, NVIDIA
    Eric Werness, NVIDIA
    Mark Kilgard, NVIDIA

Contact

    Jeannot Breton, NVIDIA Corporation (jbreton 'at' nvidia.com)

Status

    Shipping.

Version

    Last Modified Date:         2/14/2014
    NVIDIA Revision:            3

Number

    OpenGL Extension #447

Dependencies

    This extension is written against the OpenGL 4.3 (Compatibility Profile)
    Specification.

    This extension is written against version 4.30 (revision 07) of the OpenGL 
    Shading Language Specification.

    OpenGL 4.3 and GLSL 4.3 are required.

    This extension interacts with NV_gpu_program5

    This extension interacts with NV_compute_program5

    This extension interacts with NV_tessellation_program5

Overview

    Implementations of the OpenGL Shading Language may, but are not required 
    to, run multiple shader threads for a single stage as a SIMD thread group, 
    where individual execution threads are assigned to thread groups in an 
    undefined, implementation-dependent order.  This extension provides a set 
    of new features to the OpenGL Shading Language to query thread states and 
    to share data between fragments within a 2x2 pixel quad. 
    
    More specifically the following functionalities were added:

    *   New uniform variables and tokens to query the number of threads in a 
        warp, the number of warps running on a SM and the number of SMs on the 
        GPU.
    
    *   New shader inputs to query the thread id, the warp id and the SM id.

    *   New shader inputs to query if a fragment shader thread is a helper
        thread.
        
    *   New shader built-in functions to query the state of a Boolean condition
        over all threads in a thread group.
        
    *   New shader built-in functions to query which threads are active within
        a thread group.        
        
    *   New fragment shader built-in functions to share data between fragments 
        within a 2x2 pixel quad.

    Shaders using the new functionalities provided by this extension should 
    enable this functionality via the construct
    
        #extension GL_NV_shader_thread_group : require     (or enable)

    This extension also specifies some modifications to the program assembly
    language to support the thread state query and thread data sharing
    functionalities.

    Note that in this extension specification warp and thread group have the
    same meaning.  A warp is a group of threads that get executed in lockstep.
    Each thread in a warp executes the same instruction of a program, but on
    different data.

New Procedures and Functions

    None


New Tokens


        WARP_SIZE_NV                                    0x9339
        WARPS_PER_SM_NV                                 0x933A
        SM_COUNT_NV                                     0x933B


